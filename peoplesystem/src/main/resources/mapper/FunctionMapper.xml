<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tlm.people.dao.FunctionMapper">

    <resultMap type="com.tlm.people.entity.Stu" id="shakeById">
        <result property="id" column="id" jdbcType="INTEGER"/>
    </resultMap>
    <!-- 导入 -->
    <insert id="importData">
        insert into
            student
            (stu_id,stu_name)
        values
            (#{stuId},#{stuName})
    </insert>

    <!-- 插入数据到数据库(上传文件) -->
    <insert id="saveData">
        INSERT INTO
        student
        (stu_id,stu_name)
        VALUES
        <foreach collection="list" item="cachedDataList" separator=",">
            (#{cachedDataList.stuId}, #{cachedDataList.stuName})
        </foreach>
    </insert>

    <!-- 查询所有学生 -->
    <select id="findAll" resultType="com.tlm.people.entity.Stu">
        SELECT
            id,stu_id,stu_name,status
        FROM
            student
    </select>

    <select id="selectShake" resultMap="shakeById">
        select
            *
        from
            student
        where id in
        <foreach collection="shakeIdList" item="id" open="(" close=")" separator=",">
            #{id}
        </foreach>
    </select>
</mapper>